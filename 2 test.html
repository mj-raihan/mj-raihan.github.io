<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Modern Blog with Nested TOC, Code & Math</title>

    <link rel="icon" href="https://www.dropbox.com/scl/fi/3ygdgrjjwg9qdrilvgna9/1.ico?rlkey=99w2nfagwrz5t3sp2k12vrf4d&raw=1" type="image/x-icon">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/flat-ui/2.3.0/css/flat-ui.min.css" -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap">
    <link href="https://fonts.cdnfonts.com/css/writing-signature" rel="stylesheet">
    <!-- <link rel="stylesheet" type="text/css" href="topic_style.css"> -->
    <link rel="stylesheet" type="text/css" href="styles.css">


    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            max-width: 900px;
            margin: auto;
            line-height: 1.6;
            position: relative;
        }

        /* Stylish Header */
        .header {
            text-align: center;
            padding: 40px 20px;
            position: relative;
        }

        .header img {
            width: 100%;
            max-height: 300px;
            object-fit: cover;
            border-radius: 8px;
        }

        /* TOC Styling */
        .toc {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 250px;
            background: #f9f9f9;
            padding: 10px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 0.9em;
            overflow-y: auto;
            max-height: 80vh;
        }

        .toc h3 {
            margin: 0 0 10px;
            font-size: 1.1em;
            border-bottom: 2px solid #ddd;
            padding-bottom: 5px;
        }

        .toc a {
            text-decoration: none;
            color: #333;
            display: block;
            padding: 4px 0;
        }

        .toc ul {
            list-style: none;
            padding-left: 0;
        }

        .toc ul ul {
            padding-left: 15px;
        }

        .toc a:hover, .toc .active {
            color: #007bff;
            font-weight: bold;
        }

        h2, h3 {
            scroll-margin-top: 80px;
        }

        /* Code Block Styling */
        pre {
            padding: 10px;
            border-radius: 6px;
            background: #282c34;
            color: white;
            overflow-x: auto;
        }

        @media (max-width: 768px) {
            .toc {
                display: none;
            }
        }
    </style>

    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.css" rel="stylesheet">

    <!-- KaTeX for math equations -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/katex.min.css">
</head>
<body>

        <!-- Sidebar -->
        <nav id="sidebar" class="position-fixed sidebar-color">
            <ul class="list-unstyled components" style="font-family: Perpetua, serif; font-size: 17pt;">
              <li>
                <a href="index.html" class="list-group-item" id="home-tab" onclick="showContent('home'); hideSidebar()">
                  <img src="icons/1.png" alt="Home Icon" width="24" height="24">
                  Home</a>
              </li>
              <li>
                <a href="publication.html" class="list-group-item" id="publication-tab"
                  onclick="showContent('publication'); hideSidebar()"><img src="icons/2.png" alt="Home Icon" width="24"
                    height="24"> Publications</a>
              </li>
              <li>
                <a href="project.html" class="list-group-item" id="project-tab"
                  onclick="showContent('project'); hideSidebar()"><img src="icons/3.png" alt="Home Icon" width="24" height="24">
                  Projects</a>
              </li>
              <li>
                <a href="achievements.html" class="list-group-item" id="achievements-tab"
                  onclick="showContent('achievements'); hideSidebar()"><img src="icons/4.png" alt="Home Icon" width="24"
                    height="24">Achievements</a>
              </li>
              <li>
                <a href="references.html" class="list-group-item" id="references-tab"
                  onclick="showContent('references'); hideSidebar()"><img src="icons/6.svg" alt="Home Icon" width="24"
                    height="24">References</a>
              </li>
              <li>
                <a href="https://drive.google.com/file/d/1nknOufa4i5EBhHDoEhVQZFoGmJ8rYBeE/view?usp=drive_link"
                  class="list-group-item" id="resume-tab" onclick="hideSidebar()"><img src="icons/5.png" alt="Home Icon"
                    width="24" height="24">
                  Resume</a>
              </li>
            </ul>
          </nav>
        
        
          <div class="color-bar">
            <p style="font-family: 'Writing Signature', cursive; ">Md. Johir Raihan</p>
          </div>

                <!-- Hamburger Menu -->
                <div id="menu-toggle">
                    <i class="fas fa-bars"></i>
                    <!-- hamberger bar -->
        
                </div>
        
                <!-- Close Menu Button (Added) -->
                <div id="menu-close" style="display: none;">
                    <i class="fas fa-times"></i>
                </div>
        
                <div id="toggleDarkMode" aria-label="Toggle Dark Mode">
                    <i class="fas fa-moon"></i>
                </div>

    <!-- Stylish Header with Image -->
    <div class="header">
        <h1>Modern Blog Example</h1>
        <img src="https://source.unsplash.com/900x300/?technology,abstract" alt="Header Image">
    </div>

    <!-- Table of Contents (Fixed at Top Right) -->
    <nav class="toc">
        <h3>Table of Contents</h3>
        <ul id="toc-list"></ul>
    </nav>

    <article>
        <h2 id="introduction">Introduction</h2>
        <p>This blog demonstrates a **nested TOC** where subsections appear indented.</p>

        <h2 id="code-snippet">Code Snippet</h2>
        <p>Hereâ€™s an example of a Python function:</p>
        <pre><code class="language-python">def greet(name):
    return f"Hello, {name}!"</code></pre>

        <h3 id="copy-feature">Copy Feature</h3>
        <p>Click the copy button on the code snippet to copy the code.</p>

        <h2 id="math-equations">Math Equations</h2>
        <p>We can render math equations using KaTeX:</p>
        <p>\[
            E = mc^2
        \]</p>

        <h3 id="advanced-math">Advanced Math</h3>
        <p>Inline math: \( a^2 + b^2 = c^2 \)</p>
    </article>

    <!-- Prism.js for syntax highlighting & copy button -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>

    <!-- KaTeX for rendering math equations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/katex.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.4/contrib/auto-render.min.js"></script>
    <script src="scripts.js"></script>
    <script>
        // Generate Nested TOC
        const tocList = document.getElementById('toc-list');
        const headings = document.querySelectorAll('article h2, article h3');
        let lastH2 = null;

        headings.forEach(heading => {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = `#${heading.id}`;
            a.textContent = heading.textContent;

            if (heading.tagName === 'H2') {
                li.appendChild(a);
                tocList.appendChild(li);
                lastH2 = li;
            } else if (heading.tagName === 'H3' && lastH2) {
                let subList = lastH2.querySelector('ul');
                if (!subList) {
                    subList = document.createElement('ul');
                    lastH2.appendChild(subList);
                }
                const subItem = document.createElement('li');
                subItem.appendChild(a);
                subList.appendChild(subItem);
            }
        });

        // Highlight TOC link when scrolling
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                document.querySelectorAll('.toc a').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${entry.target.id}`) {
                        link.classList.add('active');
                    }
                });
            });
        }, { rootMargin: '-20px 0px -60% 0px' });

        headings.forEach(heading => observer.observe(heading));

        // Smooth scrolling
        document.querySelectorAll('.toc a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Render KaTeX
        renderMathInElement(document.body, { delimiters: [ { left: "$$", right: "$$", display: true }, { left: "\\(", right: "\\)", display: false } ] });
    </script>

</body>
</html>
